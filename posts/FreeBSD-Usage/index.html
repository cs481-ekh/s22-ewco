<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="FreeBSD Usage" /><meta name="author" content="Mateo Ortegon" /><meta property="og:locale" content="en" /><meta name="description" content="Auto login on FreeBSD By default, FreeBSD will prompt for user login after booting up. Since the product sponsor wants the web UI to be available immediately upon booting the device, we will need to auto login a user on startup, then use a chron job to tell Xorg to stream firefox in Kiosk mode into the CLI." /><meta property="og:description" content="Auto login on FreeBSD By default, FreeBSD will prompt for user login after booting up. Since the product sponsor wants the web UI to be available immediately upon booting the device, we will need to auto login a user on startup, then use a chron job to tell Xorg to stream firefox in Kiosk mode into the CLI." /><link rel="canonical" href="https://cs481-ekh.github.io/s22-ewco//s22-ewco/posts/FreeBSD-Usage/" /><meta property="og:url" content="https://cs481-ekh.github.io/s22-ewco//s22-ewco/posts/FreeBSD-Usage/" /><meta property="og:site_name" content="EWCO Team" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-01-22T07:00:00-07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="FreeBSD Usage" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Mateo Ortegon" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Mateo Ortegon"},"dateModified":"2022-01-23T21:45:39-07:00","datePublished":"2022-01-22T07:00:00-07:00","description":"Auto login on FreeBSD By default, FreeBSD will prompt for user login after booting up. Since the product sponsor wants the web UI to be available immediately upon booting the device, we will need to auto login a user on startup, then use a chron job to tell Xorg to stream firefox in Kiosk mode into the CLI.","headline":"FreeBSD Usage","mainEntityOfPage":{"@type":"WebPage","@id":"https://cs481-ekh.github.io/s22-ewco//s22-ewco/posts/FreeBSD-Usage/"},"url":"https://cs481-ekh.github.io/s22-ewco//s22-ewco/posts/FreeBSD-Usage/"}</script><title>FreeBSD Usage | EWCO Team</title><link rel="apple-touch-icon" sizes="180x180" href="/s22-ewco/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/s22-ewco/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/s22-ewco/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/s22-ewco/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/s22-ewco/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="EWCO Team"><meta name="application-name" content="EWCO Team"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/s22-ewco/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/s22-ewco/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/s22-ewco/" alt="avatar" class="mx-auto"> <img src=" https://cdn.jsdelivr.net/gh/cs481-ekh/s22-ewco@main/assets/img/avatar.png " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/s22-ewco/">EWCO Team</a></div><div class="site-subtitle font-italic">Documentation for Emdedded WebController</div></div><ul class="w-100"><li class="nav-item"> <a href="/s22-ewco/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/s22-ewco/categories/" class="nav-link"> <i class="fa-fw fas fa-file-code ml-xl-3 mr-xl-3 unloaded"></i> <span>DOCUMENTATION</span> </a><li class="nav-item"> <a href="/s22-ewco/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/s22-ewco/archives/" class="nav-link"> <i class="fa-fw fas fa-calendar-check ml-xl-3 mr-xl-3 unloaded"></i> <span>TIMELINE</span> </a><li class="nav-item"> <a href="/s22-ewco/about/" class="nav-link"> <i class="fa-fw fas fa-robot ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/cs481-ekh" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['fake','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/s22-ewco/"> Home </a> </span> <span>FreeBSD Usage</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>FreeBSD Usage</h1><div class="post-meta text-muted"><div> By <em> <a href="https://teoo.io">Mateo Ortegon</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1642860000" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-01-22 </em> </span> <span> Updated <em class="timeago" data-ts="1642999539" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-01-23 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="211 words"> <em>1 min</em> read</span></div></div></div><div class="post-content"><h1 id="auto-login-on-freebsd">Auto login on FreeBSD</h1><p>By default, FreeBSD will prompt for user login after booting up. Since the product sponsor wants the web UI to be available immediately upon booting the device, we will need to auto login a user on startup, then use a chron job to tell Xorg to stream firefox in Kiosk mode into the CLI.</p><p>The first step to auto login is to edit the <code class="language-plaintext highlighter-rouge">gettytab</code> file located at <code class="language-plaintext highlighter-rouge">/etc/gettytab</code>. **Assuming the auto login username is <code class="language-plaintext highlighter-rouge">usr</code>, run the following commands as root to append new lines to the <code class="language-plaintext highlighter-rouge">/etc/gettytab</code> file.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s2">"# autologin"</span> <span class="o">&gt;&gt;</span> /etc/gettytab
<span class="nb">echo</span> <span class="s2">"usr:</span><span class="se">\"</span><span class="s2"> &gt;&gt; /etc/gettytab
echo "</span>        :ht:np:sp#115200:al<span class="o">=</span>usr:<span class="s2">" &gt;&gt; /etc/gettytab
</span></pre></table></code></div></div><blockquote><p><strong>Note:</strong> The console that is seen on the physical display is <code class="language-plaintext highlighter-rouge">ttyv0</code>. This console along with any other virtual ones are defined in <code class="language-plaintext highlighter-rouge">/etc/ttys</code>.</p></blockquote><p>Lastly, specify which console the user should auto log in to. For this, edit the <code class="language-plaintext highlighter-rouge">ttys</code> file in <code class="language-plaintext highlighter-rouge">/etc</code>. Change <code class="language-plaintext highlighter-rouge">ttyvo</code> to specify the login username instead of <code class="language-plaintext highlighter-rouge">Pc</code>.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>console none                            unknown off secure
<span class="c">#</span>
ttyv0   <span class="s2">"/usr/libexec/getty usr"</span>        xterm   onifexists secure
<span class="c"># Virtual terminals</span>
ttyv1   <span class="s2">"/usr/libexec/getty Pc"</span>         xterm   onifexists secure
...
</pre></table></code></div></div><p>Now reboot the device and you should automatically be logged into the user specified above (on ‘ttyv0’/the display connected).</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/s22-ewco/categories/usage/'>Usage</a>, <a href='/s22-ewco/categories/freebsd/'>FreeBSD</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/s22-ewco/tags/freebsd/" class="post-tag no-text-decoration" >freebsd</a> <a href="/s22-ewco/tags/usage/" class="post-tag no-text-decoration" >usage</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=FreeBSD Usage - EWCO Team&amp;url=https://cs481-ekh.github.io/s22-ewco//s22-ewco/posts/FreeBSD-Usage/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=FreeBSD Usage - EWCO Team&amp;u=https://cs481-ekh.github.io/s22-ewco//s22-ewco/posts/FreeBSD-Usage/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://cs481-ekh.github.io/s22-ewco//s22-ewco/posts/FreeBSD-Usage/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recent Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/s22-ewco/posts/Project-Handoff/">Project Handoff</a><li><a href="/s22-ewco/posts/GoWestRobotics-Documentation/">GWR Documentation Deliverables</a><li><a href="/s22-ewco/posts/FreeBSD-Set-up/">Running WebApp on FreeBSD</a><li><a href="/s22-ewco/posts/Ubuntu-Set-up/">Running WebApp on Ubuntu</a><li><a href="/s22-ewco/posts/FreeBSD-Research/">FreeBSD Research</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/s22-ewco/tags/meeting/">meeting</a> <a class="post-tag" href="/s22-ewco/tags/minutes/">minutes</a> <a class="post-tag" href="/s22-ewco/tags/sprint-planning/">sprint planning</a> <a class="post-tag" href="/s22-ewco/tags/freebsd/">freebsd</a> <a class="post-tag" href="/s22-ewco/tags/sponsor/">sponsor</a> <a class="post-tag" href="/s22-ewco/tags/usage/">usage</a> <a class="post-tag" href="/s22-ewco/tags/documentation/">documentation</a> <a class="post-tag" href="/s22-ewco/tags/documents/">documents</a> <a class="post-tag" href="/s22-ewco/tags/gwr/">gwr</a> <a class="post-tag" href="/s22-ewco/tags/handoff/">handoff</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/s22-ewco/posts/FreeBSD-Set-up/"><div class="card-body"> <em class="timeago small" data-ts="1650290400" > 2022-04-18 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Running WebApp on FreeBSD</h3><div class="text-muted small"><p> To run the application in FreeBSD, you need to follow the steps below. Running the application in FreeBSD is much more complicated than running on Debian Linux distributions - these instructions as...</p></div></div></a></div><div class="card"> <a href="/s22-ewco/posts/FreeBSD-Research/"><div class="card-body"> <em class="timeago small" data-ts="1642741200" > 2022-01-20 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>FreeBSD Research</h3><div class="text-muted small"><p> As outlined in the “HMI Kiosk Problem Statement” post, a major constraint for our embedded web controller will be the memory footprint. The hardware our product will run on is an x86 processor with...</p></div></div></a></div><div class="card"> <a href="/s22-ewco/posts/Ubuntu-Set-up/"><div class="card-body"> <em class="timeago small" data-ts="1650290400" > 2022-04-18 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Running WebApp on Ubuntu</h3><div class="text-muted small"><p> To run the application from scratch, you need to follow the steps outlined below. NOTE: This application is designed to be accessed only on localhost. As such the API only listens on interface 1...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/s22-ewco/posts/HMI-Kiosk-Problem-Statement/" class="btn btn-outline-primary" prompt="Older"><p>FreeBSD Industrial HMI Kiosk</p></a> <a href="/s22-ewco/posts/Meeting-Minutes-2022-01-22/" class="btn btn-outline-primary" prompt="Newer"><p>Meeting Minutes 01/22/22</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/cs481-ekh/s22-ewco">CS481 Students</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/s22-ewco/tags/meeting/">meeting</a> <a class="post-tag" href="/s22-ewco/tags/minutes/">minutes</a> <a class="post-tag" href="/s22-ewco/tags/sprint-planning/">sprint planning</a> <a class="post-tag" href="/s22-ewco/tags/freebsd/">freebsd</a> <a class="post-tag" href="/s22-ewco/tags/sponsor/">sponsor</a> <a class="post-tag" href="/s22-ewco/tags/usage/">usage</a> <a class="post-tag" href="/s22-ewco/tags/documentation/">documentation</a> <a class="post-tag" href="/s22-ewco/tags/documents/">documents</a> <a class="post-tag" href="/s22-ewco/tags/gwr/">gwr</a> <a class="post-tag" href="/s22-ewco/tags/handoff/">handoff</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/s22-ewco/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/s22-ewco/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/s22-ewco/app.js"></script>
